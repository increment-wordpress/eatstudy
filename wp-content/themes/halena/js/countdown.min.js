/* Countdown Author: @mrwigster (modified by AgniHD) */
!function(e){e.fn.countdown=function(t,n){function s(){var t=i.label.split("|");eventDate=Date.parse(i.date)/1e3,currentDate=Math.floor(e.now()/1e3),eventDate<=currentDate&&(n.call(this),clearInterval(interval)),seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=60*days*60*24,hours=Math.floor(seconds/3600),seconds-=60*hours*60,minutes=Math.floor(seconds/60),seconds-=60*minutes,1==days?a.find(".timeRefDays").text(t[0]):a.find(".timeRefDays").text(t[1]),1==hours?a.find(".timeRefHours").text(t[2]):a.find(".timeRefHours").text(t[3]),1==minutes?a.find(".timeRefMinutes").text(t[4]):a.find(".timeRefMinutes").text(t[5]),1==seconds?a.find(".timeRefSeconds").text(t[6]):a.find(".timeRefSeconds").text(t[7]),"on"==i.format&&(days=String(days).length>=2?days:"0"+days,hours=String(hours).length>=2?hours:"0"+hours,minutes=String(minutes).length>=2?minutes:"0"+minutes,seconds=String(seconds).length>=2?seconds:"0"+seconds),isNaN(eventDate)?(alert("Invalid date. Example: 30 Tuesday 2013 15:50:00"),clearInterval(interval)):(a.find(".days").text(days),a.find(".hours").text(hours),a.find(".minutes").text(minutes),a.find(".seconds").text(seconds))}var a=e(this),i={date:null,format:null,label:null};t&&e.extend(i,t),s(),interval=setInterval(s,1e3)}}(jQuery);
